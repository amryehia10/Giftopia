<div *ngIf="currentPage === 1" class="container">
  <form (ngSubmit)="nextPage()" #registerForm="ngForm" class="loginForm card">
      <div class="card-header">
        Register [Page 1/2]
      </div>
    <div class="form-group">
      <label for="name">Name:</label>
      <input type="text" id="name" name="name" required minlength="3" [(ngModel)]="userData.name" class="form-control">
      @if(nameNotValid){
        <p class="validation">Name should atleast have 3 characters !</p>
      }
    </div>
    <div class="form-group">
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" required email [(ngModel)]="userData.email" class="form-control">
      @if(emailNotValid){
        <p class="validation">Email is not in correct format !</p>
      }
    </div>
    <div class="form-group">
      <label for="password">Password:</label>
      <input type="password" id="password" name="password" required minlength="8" [(ngModel)]="userData.password" class="form-control">
      @if(passwordNotValid){
        <p class="validation">Password should atleast have 8 characters !</p>
      }
    </div>
    <div class="form-group">
      <label>Gender:</label><br><br>
      <label><input type="radio" name="gender" value="male" [(ngModel)]="userData.gender"> Male</label>
      <label><input type="radio" name="gender" value="female" [(ngModel)]="userData.gender"> Female</label><br><br>
    </div>
    <div class="form-group">
      <label for="age">Age:</label>
      <input type="number" id="age" name="age" required min="10" max="100" [(ngModel)]="userData.age" class="form-control">
      @if(ageNotValid){
        <p class="validation">Age should be between 10 and 100 !</p>
      }
    </div>
    <div class="form-group">
      <label for="profileImage">Profile Image:</label>
      <div class="input-with-preview">
        <input type="file" id="profileImage" name="profileImage" (change)="onFileSelected($event)" class="form-control">
        <div class="image-preview" *ngIf="imageUrl">
          <img [src]="imageUrl" alt="Profile Image" (click)="toggleEnlargeImage()">
        </div>
      </div>
      <div class="enlarge-image" *ngIf="enlargeImageVisible" (click)="toggleEnlargeImage()">
        <img [src]="imageUrl" alt="Profile Image">
      </div>
    </div>    
    <button type="submit" class="giftBtn">Next</button>
  </form>
</div>

<div *ngIf="currentPage === 2" class="container">
  <form (ngSubmit)="register()" #registerForm2="ngForm" class="loginForm card">
    <div class="card-header">
      Register [Page 2/2]
    </div>
    <!-- Additional Mobile Number -->
    <div class="form-group">
      <label for="mobileNumber">Mobile Number:</label>
      <input type="text" id="mobileNumber" name="mobileNumber" required minlength="11" maxlength="11" [(ngModel)]="userData.mobileNumber" class="form-control">
      @if(mobileNotValid){
        <p class="validation">Mobile Number should be 11 digits !</p>
      }
    </div>
    <div class="additional-mobiles" *ngFor="let additionalMobile of additionalMobiles; let i = index">
      <div class="form-group">
        <label for="additionalMobileNumber{{i}}">Mobile Number {{i + 2}}:</label>
        <div class="input-container">
          <input type="text" id="additionalMobileNumber{{i}}" name="additionalMobileNumber{{i}}" required minlength="11" maxlength="11" [(ngModel)]="additionalMobiles[i].number" class="form-control">
          <button type="button" (click)="removeMobile(i)" class="giftBtn removeBtn">Remove</button>
        </div>
      </div>
    </div>
    <div class="form-group" *ngIf="additionalMobiles.length < 2">
      <button type="button" (click)="addMobile()" class="giftBtn">Add Another Mobile Number</button>
    </div>
    
    <hr>

    <!-- Additional Address -->
    <div class="form-group">
      <label for="address">Address:</label>
      <textarea id="address" name="address" required [(ngModel)]="userData.address" class="form-control"></textarea>
      @if(addressNotValid){
        <p class="validation">This address is required !</p>
      }
    </div>
    <div class="additional-addresses" *ngFor="let additionalAddress of additionalAddresses; let i = index">
      <div class="form-group">
        <label for="additionalAddress{{i}}">Address {{i + 2}}:</label>
        <div class="input-container">
          <textarea id="additionalAddress{{i}}" name="additionalAddress{{i}}" required [(ngModel)]="additionalAddresses[i].address" class="form-control"></textarea>
          <button type="button" (click)="removeAddress(i)" class="giftBtn removeBtn">Remove</button>
        </div>
      </div>
    </div>
    <div class="form-group" *ngIf="additionalAddresses.length < 2">
      <button type="button" (click)="addAddress()" class="giftBtn">Add Another Address</button>
    </div>
    
    <hr>

    <!-- Additional Credit Card -->
    <!-- Main Credit Card Number Input -->
<div class="CreditCardBox">
  <div class="card-body">
    <div class="form-group">
      <label for="creditCard">Credit Card Number:</label>
      <input type="text" id="creditCard" name="creditCard" [(ngModel)]="userData.creditCard" class="form-control">
    </div>
    <div class="form-group row">
      <!-- CVV Input -->
      <div class="col">
        <label for="cvv">CVV:</label>
        <input type="text" id="cvv" name="cvv" class="form-control">
      </div>
      <!-- Expiry Date Input -->
      <div class="col">
        <label for="expiryMonth">Expiry Month:</label>
        <select id="expiryMonth" name="expiryMonth" class="form-control">
          <option value="1">January</option>
          <option value="2">February</option>
          <option value="3">March</option>
          <option value="4">April</option>
          <option value="5">May</option>
          <option value="6">June</option>
          <option value="7">July</option>
          <option value="8">August</option>
          <option value="9">September</option>
          <option value="10">October</option>
          <option value="11">November</option>
          <option value="12">December</option>
        </select>
      </div>
      <div class="col">
        <label for="expiryYear">Expiry Year:</label>
        <select id="expiryYear" name="expiryYear" class="form-control">
          <option value="2024">2024</option>
          <option value="2025">2025</option>
          <option value="2026">2026</option>
          <option value="2027">2027</option>
          <option value="2028">2028</option>
          <option value="2029">2029</option>
          <option value="2030">2030</option>
          <option value="2031">2031</option>
          <option value="2032">2032</option>
          <option value="2033">2033</option>
          <option value="2034">2034</option>
          <option value="2035">2035</option>
        </select>
      </div>
    </div>
  </div>
</div>

<!-- Additional Credit Card Inputs -->
<div *ngFor="let additionalCard of additionalCreditCards; let i = index">
  <div class="CreditCardBox">
    <div class="form-group">
      <label for="additionalCreditCard{{i}}">Credit Card Number {{i + 2}}:</label>
      <input type="text" id="additionalCreditCard{{i}}" name="additionalCreditCard{{i}}" [(ngModel)]="additionalCreditCards[i].cardNumber" class="form-control">
    </div>
    <div class="form-group row">
      <!-- CVV Input -->
      <div class="col">
        <label for="cvv{{i}}">CVV:</label>
        <input type="text" id="cvv{{i}}" name="cvv{{i}}" class="form-control">
      </div>
      <!-- Expiry Date Input -->
      <!-- Expiry Date Input -->
<div class="col">
  <label for="expiryMonth{{i}}">Expiry Month:</label>
  <select id="expiryMonth{{i}}" name="expiryMonth{{i}}" class="form-control">
    <option value="1">January</option>
          <option value="2">February</option>
          <option value="3">March</option>
          <option value="4">April</option>
          <option value="5">May</option>
          <option value="6">June</option>
          <option value="7">July</option>
          <option value="8">August</option>
          <option value="9">September</option>
          <option value="10">October</option>
          <option value="11">November</option>
          <option value="12">December</option>
  </select>
</div>
<div class="col">
  <label for="expiryYear{{i}}">Expiry Year:</label>
  <select id="expiryYear{{i}}" name="expiryYear{{i}}" class="form-control">
    <option value="2024">2024</option>
    <option value="2025">2025</option>
    <option value="2026">2026</option>
    <option value="2027">2027</option>
    <option value="2028">2028</option>
    <option value="2029">2029</option>
    <option value="2030">2030</option>
    <option value="2031">2031</option>
    <option value="2032">2032</option>
    <option value="2033">2033</option>
    <option value="2034">2034</option>
    <option value="2035">2035</option>
  </select>
</div>

    </div>
    <!-- Remove Button -->
    <button type="button" (click)="removeCreditCard(i)" class="btn btn-danger removeBtn">Remove</button>
  </div>
</div>


<!-- Add Another Credit Card Button -->
<div class="form-group" *ngIf="additionalCreditCards.length < 2">
  <button type="button" (click)="addCreditCard()" class="giftBtn">Add Another Credit Card</button>
</div> 

    <!-- Previous and Register buttons -->
    <div class="button-container">
      <button type="button" (click)="previousPage()" class="giftBtn">Previous</button>
      <button type="submit" class="giftBtn regBtn">Register</button>
    </div>
    
  </form>
</div>

